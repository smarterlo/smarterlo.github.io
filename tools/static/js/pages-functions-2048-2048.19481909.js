(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-functions-2048-2048"],{"1f0c":function(t,e,a){"use strict";var n=a("4ea4");a("4de4"),a("7db0"),a("4160"),a("4e82"),a("e25e"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530")),r={data:function(){return{layout:{x:4,y:4},datas:[],allItem:[],index:0,startX:0,startY:0,touch:!1}},methods:{createItems:function(){var t=this,e=this.allItem.filter((function(e){return!t.datas.find((function(t){return t.x===e.x&&t.y===e.y}))}));if(0===e.length)uni.showModal({content:"game over !",showCancel:!1,success:function(e){e.confirm&&(t.index=0,t.datas=[],t.createItems(),t.createItems())}});else{var a=e[parseInt(Math.random()*e.length)];this.datas.push((0,i.default)((0,i.default)({},a),{},{i:this.index,value:[2,4][parseInt(2*Math.random())]})),this.index++}},play:function(t){var e=this;switch(console.log(t),t){case"right":for(var a=function(t){var a=e.datas.filter((function(e){return e.y===t})).sort((function(t,e){return e.x-t.x})),n=-1;a.forEach((function(t,i){a[i+1]&&t.value===a[i+1].value&&!t.isToMerge?e.merge(t,a,i):n++,t.x=e.layout.x-1-n}))},n=0;n<this.layout.y;n++)a(n);break;case"left":for(var i=function(t){var a=e.datas.filter((function(e){return e.y===t})).sort((function(t,e){return t.x-e.x})),n=-1;a.forEach((function(t,i){a[i+1]&&t.value===a[i+1].value&&!t.isToMerge?e.merge(t,a,i):n++,t.x=n}))},r=0;r<this.layout.y;r++)i(r);break;case"up":for(var o=function(t){var a=e.datas.filter((function(e){return e.x===t})).sort((function(t,e){return t.y-e.y})),n=-1;a.forEach((function(t,i){a[i+1]&&t.value===a[i+1].value&&!t.isToMerge?e.merge(t,a,i):n++,t.y=n}))},s=0;s<this.layout.x;s++)o(s);break;case"down":for(var c=function(t){var a=e.datas.filter((function(e){return e.x===t})).sort((function(t,e){return e.y-t.y})),n=-1;a.forEach((function(t,i){a[i+1]&&t.value===a[i+1].value&&!t.isToMerge?e.merge(t,a,i):n++,t.y=e.layout.y-1-n}))},u=0;u<this.layout.x;u++)c(u);break}this.datas=this.datas.filter((function(t){return!t.isMerge})),this.datas.forEach((function(t){return t.isToMerge=!1})),this.createItems()},merge:function(t,e,a){var n=this;t.isMerge=!0,e[a+1].value*=2,e[a+1].isToMerge=!0,2048===e[a+1].value&&uni.showModal({content:"游戏胜利 !",showCancel:!1,success:function(t){t.confirm&&(n.index=0,n.datas=[],n.createItems(),n.createItems())}})},touchstart:function(t){this.startX=t.touches[0].pageX,this.startY=t.touches[0].pageY,this.touch=!0},touchend:function(t){if(this.touch){this.touch=!1;var e=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY,n=e-this.startX,i=a-this.startY,r=Math.abs(n)<Math.abs(i)?1:0;r<1&&n<0?this.play("left"):r>0&&i<0?this.play("up"):r<1&&n>0?this.play("right"):r>0&&i>0&&this.play("down")}}},created:function(){for(var t=0;t<this.layout.x;t++)for(var e=0;e<this.layout.y;e++)this.allItem.push({x:t,y:e});this.createItems(),this.createItems()},onShareAppMessage:function(){}};e.default=r},"28a2":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"game-page",on:{touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[a("v-uni-view",{staticClass:"game-box",on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart.apply(void 0,arguments)}}},[t._l(t.layout.x*t.layout.y,(function(t){return a("v-uni-view",{key:t+"888",staticClass:"bg-box"})})),t._l(t.datas,(function(e){return a("v-uni-view",{key:e.i,staticClass:"item",style:{top:"calc((100% / 4) * "+e.y+")",left:"calc((100% / 4) * "+e.x+")"}},[a("v-uni-view",{staticClass:"item-inner"},[t._v(t._s(e.value))])],1)}))],2)],1)},r=[]},"2a90":function(t,e,a){"use strict";var n=a("7808"),i=a.n(n);i.a},"5fb4":function(t,e,a){"use strict";a.r(e);var n=a("28a2"),i=a("a776");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("2a90");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"6cf5d8e1",null,!1,n["a"],o);e["default"]=c.exports},7398:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.game-page[data-v-6cf5d8e1]{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background:#000;background-position:50%;background-size:cover;position:relative}.game-page[data-v-6cf5d8e1]::before{display:block;width:100%;height:100%;position:absolute;bottom:0;left:0;content:""}.game-page[data-v-6cf5d8e1]::after{display:block;width:100%;height:30%;position:absolute;top:0;left:0;content:"";background:-webkit-gradient(linear,left top,left bottom,from(#809bb9),to(rgba(128,155,185,0)));background:-webkit-linear-gradient(top,#809bb9,rgba(128,155,185,0));background:linear-gradient(180deg,#809bb9,rgba(128,155,185,0))}.game-box[data-v-6cf5d8e1]{z-index:3;background:rgba(222,236,223,.2);height:%?650?%;width:%?650?%;-webkit-border-radius:%?5?%;border-radius:%?5?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;position:relative;margin:0 auto}.bg-box[data-v-6cf5d8e1]{width:calc(%?650?% / 4);height:calc(%?650?% / 4);padding:%?10?%}.bg-box[data-v-6cf5d8e1]::before{content:"";display:block;background:rgba(231,240,231,.5);height:100%;width:100%;-webkit-border-radius:%?8?%;border-radius:%?8?%}.item[data-v-6cf5d8e1]{position:absolute;width:25%;height:25%;padding:%?10?%;color:#fff;-webkit-transition:.8s;transition:.8s}.item .item-inner[data-v-6cf5d8e1]{height:100%;-webkit-border-radius:%?8?%;border-radius:%?8?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?48?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background:#81b681;font-weight:700}',""]),t.exports=e},7808:function(t,e,a){var n=a("7398");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("0af1212c",n,!0,{sourceMap:!1,shadowMode:!1})},a776:function(t,e,a){"use strict";a.r(e);var n=a("1f0c"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a}}]);