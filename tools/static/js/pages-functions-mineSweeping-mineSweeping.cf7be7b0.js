(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-functions-mineSweeping-mineSweeping"],{"18b8":function(t,e,n){"use strict";n("4160"),n("caad"),n("c975"),n("13d5"),n("a434"),n("e25e"),n("2532"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{numberColors:["blue","#008100","red","#000081","#810000","#008181","#000","#818181"],levelList:[{x:10,y:15,count:30,name:"初级(9x9,10)",level:0},{x:16,y:16,count:40,name:"中级(16x16,40)",level:1},{x:32,y:16,count:99,name:"高级(32x16,99)",level:2}],level:0,dataList:[],checkCount:0,flagCount:0,time:0,timer:null,gameStatus:0}},created:function(){this.gameInit()},methods:{toggleFlag:function(t){1!==t.status&&1===this.gameStatus&&(t.status=0===t.status?2:0,this.flagCount+=t.status-1)},openOther:function(t,e,n){var i=this;if(1===t.status){var a=this.getAroundIndexs(e,n),s=0;a.forEach((function(t){i.dataList[t[0]]&&i.dataList[t[0]][t[1]]&&2===i.dataList[t[0]][t[1]].status&&s++})),t.count===s&&a.forEach((function(t){i.dataList[t[0]]&&i.dataList[t[0]][t[1]]&&i.openItem(i.dataList[t[0]][t[1]],t[0],t[1])}))}else this.toggleFlag(t)},openItem:function(t,e,n){var i=this;if(0===this.gameStatus&&(this.gameStatus=1,this.timer=setInterval((function(){i.time++}),1e3)),0===t.status&&1===this.gameStatus){var a=this.levelList[this.level];if(t.status++,t.isMine)return uni.showModal({title:"Game Over !",success:function(){i.gameInit()}}),this.dataList.forEach((function(t){t.forEach((function(t){t.isMine&&(t.status=1)}))})),clearInterval(this.timer),void(this.gameStatus=3);if(0===t.count){var s=this.getAroundIndexs(e,n);s.forEach((function(t){t[0]>=0&&t[0]<a.y&&t[1]>=0&&t[1]<a.x&&i.openItem(i.dataList[t[0]][t[1]],t[0],t[1])}))}this.checkCount++,this.checkCount===a.x*a.y-a.count&&(this.gameStatus=2,clearInterval(this.timer),uni.showModal({title:"扫雷成功",success:function(){i.gameInit()}}))}},gameInit:function(){this.checkCount=0,this.time=0,this.flagCount=0,this.gameStatus=0;for(var t=[],e=this.levelList[this.level],n=this.getRandom(e.count,e.x*e.y),i=0,a=0;a<e.y;a++){t.push([]);for(var s=0;s<e.x;s++){i++;var o=[0,a>0&&s>0?i-e.x-1:0,a>0?i-e.x:0,a>0&&s<e.x-1?i-e.x+1:0,s>0?i-1:0,s<e.x-1?i+1:0,a<e.y-1&&s>0?i+e.x-1:0,a<e.y-1?i+e.x:0,a<e.y-1&&s<e.x-1?i+e.x+1:0],r=o.reduce((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return n.includes(e)+t}));t[a].push({status:0,count:r,isMine:-1!==n.indexOf(i)})}}clearInterval(this.timer),this.dataList=t},getRandom:function(t,e){for(var n=[],i=[],a=0;a<e;a++)n.push(a+1);for(var s=0;s<t;s++){var o=parseInt(Math.random()*n.length);i.push(n[o]),n.splice(o,1)}return i},getAroundIndexs:function(t,e){return[[t-1,e-1],[t-1,e],[t-1,e+1],[t,e-1],[t,e+1],[t+1,e-1],[t+1,e],[t+1,e+1]]}}};e.default=i},"19d3":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var i={uIcon:n("4685").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"game-page"},[n("div",{staticClass:"mine-temp"},[n("v-uni-view",{staticClass:"utils-bar"},[n("v-uni-view",{staticClass:"utils-item"},[n("u-icon",{attrs:{name:"clock"}}),n("v-uni-text",{staticClass:"value"},[t._v(t._s(t.time))])],1),n("v-uni-view",{staticClass:"utils-item"},[n("u-icon",{attrs:{name:"star-fill"}}),n("v-uni-text",{staticClass:"value"},[t._v(t._s(t.flagCount))])],1),n("v-uni-view",{staticClass:"utils-item"},[n("u-icon",{attrs:{name:"heart-fill"}}),n("v-uni-text",{staticClass:"value"},[t._v(t._s(t.levelList[t.level].count))])],1)],1),t._l(t.dataList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"card-row"},t._l(e,(function(e,a){return n("v-uni-view",{key:a,staticClass:"card-item",class:{open:1===e.status},on:{longpress:function(n){arguments[0]=n=t.$handleEvent(n),t.openOther(e,i,a)},click:function(n){arguments[0]=n=t.$handleEvent(n),t.openItem(e,i,a)},contextmenu:function(n){n.preventDefault(),arguments[0]=n=t.$handleEvent(n),t.toggleFlag(e)}}},[1===e.status?[!e.isMine&&e.count?n("v-uni-text",{style:{color:t.numberColors[e.count-1]}},[t._v(t._s(e.count))]):t._e(),e.isMine?n("u-icon",{attrs:{name:"heart-fill"}}):t._e()]:t._e(),2===e.status?n("u-icon",{attrs:{name:"star-fill",color:"var(--warning)"}}):t._e()],2)})),1)}))],2)])},s=[]},"42f8":function(t,e,n){"use strict";n.r(e);var i=n("19d3"),a=n("94c9");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("af85");var o,r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"9a9ec180",null,!1,i["a"],o);e["default"]=c.exports},"94c9":function(t,e,n){"use strict";n.r(e);var i=n("18b8"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},af85:function(t,e,n){"use strict";var i=n("b83b"),a=n.n(i);a.a},b83b:function(t,e,n){var i=n("ddf2");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("62c5ae83",i,!0,{sourceMap:!1,shadowMode:!1})},ddf2:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.utils-bar[data-v-9a9ec180]{margin-bottom:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;padding:0 %?10?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.utils-bar .utils-item[data-v-9a9ec180]{padding:%?15?%;width:25%;background:rgba(28,43,59,.7);color:#fff;-webkit-border-radius:%?40?%;border-radius:%?40?%;border:2px #1c2b3b solid;text-align:center}.utils-bar .utils-item .iconfont[data-v-9a9ec180]{margin-right:%?15?%}.game-page[data-v-9a9ec180]{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background-position:50%;background-size:cover;position:relative}.game-page[data-v-9a9ec180]::before{display:block;width:100%;height:100%;position:absolute;bottom:0;left:0;content:""}.game-page[data-v-9a9ec180]::after{display:block;width:100%;height:30%;position:absolute;top:0;left:0;content:"";background:-webkit-gradient(linear,left top,left bottom,from(#809bb9),to(rgba(128,155,185,0)));background:-webkit-linear-gradient(top,#809bb9,rgba(128,155,185,0));background:linear-gradient(180deg,#809bb9,rgba(128,155,185,0))}.mine-temp[data-v-9a9ec180]{text-align:center;margin:15px auto;overflow:auto;position:relative;z-index:10}.card-row[data-v-9a9ec180]{height:%?70?%;white-space:nowrap;margin:0}.card-item[data-v-9a9ec180]{display:inline-block;width:%?70?%;height:%?70?%;text-align:center;line-height:%?70?%;background:#1c2b3b;vertical-align:top;-webkit-box-shadow:2px 3px 4px 0 #8b8585;box-shadow:2px 3px 4px 0 #8b8585;font-weight:600;font-size:16px;white-space:nowrap;-webkit-user-select:none;user-select:none;z-index:2;position:relative;border:1px solid #171717;opacity:.95;color:red}.card-item .iconqizhi[data-v-9a9ec180]{color:red}.card-item.open[data-v-9a9ec180]{border:none;z-index:0;background:#dae6f4;-webkit-box-shadow:0 0 1px 0 #747774;box-shadow:0 0 1px 0 #747774;opacity:.85}.card-item.open .icondilei[data-v-9a9ec180]{-webkit-animation:bounceIn 1s;animation:bounceIn 1s}',""]),t.exports=e}}]);