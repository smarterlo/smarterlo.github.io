(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-functions-qrcode-qrcode"],{"3fb4":function(t,o,e){var i=e("b4fd");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("a3702690",i,!0,{sourceMap:!1,shadowMode:!1})},"48f1":function(t,o,e){"use strict";var i=e("4ea4");e("ac1f"),e("5319"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n,a=i(e("9184")),c={onLoad:function(){switch(n=this,n.$store.state.platform){case"android":console.log("运行Android上");break;case"ios":Vue.prototype.requestIosPermission("photoLibrary","相册"),console.log("运行iOS上");break;default:console.log("运行在开发者工具上");break}},components:{tColorPicker:a.default},data:function(){return{size:10,text:"",color:{r:255,g:0,b:0,a:1},bgcolor:"rgb(255,255,255)",nbgcolor:"rgb(0,0,0)",jbgcolor:"rgb(0,0,0)",index:"",img:"https://ppgjx.com/static/images/qrcode.jpg",save:!1}},methods:{open:function(t){this.index=t,this.$refs.colorPicker.open()},confirm:function(t){var o=t.rgba;this["".concat(this.index)]="rgb("+o.r+","+o.g+","+o.b+")"},make:function(t){var o=this;if(console.log(this.size),""==this.size||this.size<1||this.size>50)plus.nativeUI.alert("二维码大小超出范围!",(function(){}),"提示","好的");else if(""==this.text)plus.nativeUI.alert("内容不能为空!",(function(){}),"提示","好的");else{o=this;var e=this.bgcolor.replace("rgb(","").replace(")",""),i=this.nbgcolor.replace("rgb(","").replace(")",""),a=this.jbgcolor.replace("rgb(","").replace(")","");uni.showLoading({title:"制作中"}),n.xhttp.request({url:"/functions/qrcode/make",method:"POST",data:{text:o.text,size:o.size,bgcolor:e,nbgcolor:i,jbgcolor:a},header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),0==t.data.code&&(n.img=t.data.data),uni.hideLoading()})).catch((function(t){uni.hideLoading()}))}},gosave:function(t){console.log("保存图片"),uni.downloadFile({url:this.img,success:function(t){if(200===t.statusCode){console.log("下载成功"),console.log(t.tempFilePath);var o=t.tempFilePath;uni.saveImageToPhotosAlbum({filePath:o,success:function(t){console.log("保存成功"),uni.showToast({icon:"success",title:"已保存",duration:1e3})},fail:function(t){console.log("保存失败"),console.log(t),uni.showToast({icon:"none",title:"保存失败",duration:1e3})}})}}})}}};o.default=c},9600:function(t,o,e){"use strict";e.d(o,"b",(function(){return n})),e.d(o,"c",(function(){return a})),e.d(o,"a",(function(){return i}));var i={tColorPicker:e("9184").default},n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-uni-view",[e("v-uni-view",{staticClass:"box"},[e("v-uni-image",{staticClass:"img",attrs:{"lazy-load":"true",src:t.img}})],1),e("v-uni-view",{staticClass:"cu-form-group "},[e("v-uni-textarea",{attrs:{maxlength:"-1",placeholder:"请输入文本内容 支持网址 文本等 网址必须添加http前缀"},model:{value:t.text,callback:function(o){t.text=o},expression:"text"}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("背景颜色")]),e("v-uni-button",{staticClass:"cu-btn bg-green shadow",style:{backgroundColor:t.bgcolor},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.open("bgcolor")}}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("前景颜色")]),e("v-uni-button",{staticClass:"cu-btn bg-green shadow",style:{backgroundColor:t.nbgcolor},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.open("nbgcolor")}}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("四角色")]),e("v-uni-button",{staticClass:"cu-btn bg-green shadow",style:{backgroundColor:t.jbgcolor},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.open("jbgcolor")}}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("二维码大小")]),e("v-uni-input",{attrs:{type:"number",maxlength:"2"},model:{value:t.size,callback:function(o){t.size=o},expression:"size"}}),e("v-uni-view",{staticClass:"title",staticStyle:{color:"#999999"}},[t._v("范围:1-50(保存后可见效果)")])],1),e("v-uni-view",{staticStyle:{position:"fixed",bottom:"0"}},[e("v-uni-button",{staticClass:"cu-btn bg-white margin-tb-sm lg",staticStyle:{margin:"0px",width:"50vw",color:"#000000"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.make.apply(void 0,arguments)}}},[t._v("制作")]),e("v-uni-button",{staticClass:"cu-btn bg-white margin-tb-sm lg",staticStyle:{margin:"0px",width:"50vw",color:"#000000"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.gosave.apply(void 0,arguments)}}},[t._v("保存")])],1),e("t-color-picker",{ref:"colorPicker",attrs:{color:t.color},on:{confirm:function(o){arguments[0]=o=t.$handleEvent(o),t.confirm.apply(void 0,arguments)}}})],1)},a=[]},"980b":function(t,o,e){"use strict";var i=e("3fb4"),n=e.n(i);n.a},b4fd:function(t,o,e){var i=e("24fb");o=i(!1),o.push([t.i,".button-box[data-v-fc41d0ac]{margin:%?30?%;text-align:center}.button-box1[data-v-fc41d0ac]{width:50%}.box[data-v-fc41d0ac]{margin:2% 30%;-webkit-box-shadow:0 0 %?5?%;box-shadow:0 0 %?5?%;width:40%;height:40vw}.img[data-v-fc41d0ac]{width:100%;height:100%}uni-button[data-v-fc41d0ac]{-webkit-border-radius:0;border-radius:0}uni-button[data-v-fc41d0ac]::after{border:none}",""]),t.exports=o},dd12:function(t,o,e){"use strict";e.r(o);var i=e("9600"),n=e("ffd6");for(var a in n)"default"!==a&&function(t){e.d(o,t,(function(){return n[t]}))}(a);e("980b");var c,s=e("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"fc41d0ac",null,!1,i["a"],c);o["default"]=r.exports},ffd6:function(t,o,e){"use strict";e.r(o);var i=e("48f1"),n=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(o,t,(function(){return i[t]}))}(a);o["default"]=n.a}}]);