(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-functions-textSpeech-textSpeech"],{"311e":function(t,e,a){"use strict";a.r(e);var n=a("3276"),i=a.n(n);for(var u in n)"default"!==u&&function(t){a.d(e,t,(function(){return n[t]}))}(u);e["default"]=i.a},3276:function(t,e,a){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=uni.createInnerAudioContext(),u={onLoad:function(){n=this,i.onPlay((function(){console.log("开始播放"),n.load=!0})),i.onEnded((function(){console.log("结束"),n.load=!1}))},onUnload:function(){i.stop()},data:function(){return{volume:50,speech_rate:50,pitch_rate:50,text:"",textleng:0,voiceV:[{name:"标准女声-通用场景-小云",value:"Xiaoyun",type:"aliyun"},{name:"标准男声-通用场景-小刚",value:"Xiaogang",type:"aliyun"},{name:"温柔女声-通用场景-若兮",value:"Ruoxi",type:"aliyun"},{name:"温柔女声-通用场景-思琪",value:"Siqi",type:"aliyun"},{name:"标准女声-通用场景-思佳",value:"Sijia",type:"aliyun"},{name:"标准男声-通用场景-思诚",value:"Sicheng",type:"aliyun"},{name:"温柔女声-通用场景-艾琪",value:"Aiqi",type:"aliyun"},{name:"标准女声-通用场景-艾佳",value:"Aijia",type:"aliyun"},{name:"标准男声-通用场景-艾诚",value:"Aicheng",type:"aliyun"},{name:"标准男声-通用场景-艾达",value:"Aida",type:"aliyun"},{name:"标准女声-通用场景-宁儿",value:"Ninger",type:"aliyun"},{name:"标准女声-通用场景-瑞琳",value:"Ruilin",type:"aliyun"},{name:"温柔女声-客服场景-思悦",value:"Siyue",type:"aliyun"},{name:"严厉女声-客服场景-艾雅",value:"Aiya",type:"aliyun"},{name:"亲和女声-客服场景-艾夏",value:"Aixia",type:"aliyun"},{name:"甜美女声-客服场景-艾美",value:"Aimei",type:"aliyun"},{name:"自然女声-客服场景-艾雨",value:"Aiyu",type:"aliyun"},{name:"温柔女声-客服场景-艾悦",value:"Aiyue",type:"aliyun"},{name:"严厉女声-客服场景-艾婧",value:"Aijing",type:"aliyun"},{name:"甜美女声-客服场景-小美",value:"Xiaomei",type:"aliyun"},{name:"浙普女声-客服场景-艾娜",value:"Aina",type:"aliyun"},{name:"浙普女声-客服场景-伊娜",value:"Yina",type:"aliyun"},{name:"严厉女声-客服场景-思婧",value:"Sijing",type:"aliyun"},{name:"儿童音-童声场景-思彤",value:"Sitong",type:"aliyun"},{name:"萝莉女声-童声场景-小北",value:"Xiaobei",type:"aliyun"},{name:"儿童音-童声场景-艾彤",value:"Aitong",type:"aliyun"},{name:"萝莉女声-童声场景-艾薇",value:"Aiwei",type:"aliyun"},{name:"萝莉女声-童声场景-艾宝",value:"Aibao",type:"aliyun"},{name:"英音男声-英文场景-Harry-仅支持英语",value:"Harry",type:"aliyun"},{name:"美音女声-英文场景-Abby-仅支持英语",value:"Abby",type:"aliyun"},{name:"美音男声-英文场景-Andy-仅支持英语",value:"Andy",type:"aliyun"},{name:"英音男声-英文场景-Eric-仅支持英语",value:"Eric",type:"aliyun"},{name:"英音女声-英文场景-Emily-仅支持英语",value:"Emily",type:"aliyun"},{name:"英音女声-英文场景-Luna-仅支持英语",value:"Luna",type:"aliyun"},{name:"英音男声-英文场景-Luca-仅支持英语",value:"Luca",type:"aliyun"},{name:"英音女声-英文场景-Wendy-仅支持英语",value:"Wendy",type:"aliyun"},{name:"英音男声-英文场景-William-仅支持英语",value:"William",type:"aliyun"},{name:"英音女声-英文场景-Olivia-仅支持英语",value:"Olivia",type:"aliyun"},{name:"粤语女声-方言场景-姗姗",value:"Shanshan",type:"aliyun"},{name:"四川话女声-方言场景-小玥",value:"Xiaoyue",type:"aliyun"},{name:"英中双语女声-英文场景-Lydia",value:"Lydia",type:"aliyun"},{name:"自然男声-客服场景-艾硕",value:"Aishuo",type:"aliyun"},{name:"台湾话女声-方言场景-青青",value:"Qingqing",type:"aliyun"},{name:"东北话女声-方言场景-翠姐",value:"Cuijie",type:"aliyun"},{name:"湖南重口音男声-方言场景-小泽",value:"Xiaoze",type:"aliyun"},{name:"日语女声-文学场景-智香",value:"Tomoka",type:"aliyun"},{name:"日语男声-文学场景-智也",value:"Tomoya",type:"aliyun"},{name:"美语女声-文学场景-Annie-仅支持英语",value:"Annie",type:"aliyun"}],voiceIndex:0,url:"",load:!1}},methods:{textareaBInput:function(t){console.log(t.detail.value),n.text=t.detail.value,n.textleng=n.text.length},downmp4:function(){n.show=!0},voiceF:function(t){n.voiceIndex=t.detail.value},test:function(){i.autoplay=!0,i.src=n.url,i.play()},copy:function(){uni.setClipboardData({data:n.url,success:function(){uni.showToast({title:"已复制",duration:2e3})}})},tap:function(){var t=n.text,e=n.voiceV[n.voiceIndex].value,a=n.volume,u=10*(n.speech_rate-50),l=10*(n.pitch_rate-50);console.log("开始合成:发音人:"+e+"音量:"+a+"语速:"+u+"语调:"+l),i.stop(),n.load=!1,n.url="",uni.showLoading({title:"合成中"}),n.xhttp.request({url:"/functions/tts/v1/textSpeech",method:"POST",data:{value:t,voice:e,volume:a,speech_rate:u,pitch_rate:l,type:1},header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),0==t.data.code&&(n.url=t.data.data),uni.hideLoading()})).catch((function(t){uni.hideLoading()}))}}};e.default=u},4314:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return u})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-slider",class:[t.disabled?"u-slider--disabled":""],style:{backgroundColor:t.inactiveColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"u-slider__gap",style:[t.barStyle,{height:t.height+"rpx",backgroundColor:t.activeColor}]},[a("v-uni-view",{staticClass:"u-slider__button-wrap",on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchEnd.apply(void 0,arguments)},touchcancel:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchEnd.apply(void 0,arguments)}}},[t.$slots.default||t.$slots.$default?t._t("default"):a("v-uni-view",{staticClass:"u-slider__button",style:[t.blockStyle,{height:t.blockWidth+"rpx",width:t.blockWidth+"rpx",backgroundColor:t.blockColor}]})],2)],1)],1)},u=[]},"47a3":function(t,e,a){"use strict";var n=a("48b1"),i=a.n(n);i.a},"48b1":function(t,e,a){var n=a("66ae");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("47d13160",n,!0,{sourceMap:!1,shadowMode:!1})},"4cfe":function(t,e,a){"use strict";var n=a("8cf0"),i=a.n(n);i.a},"541e":function(t,e,a){"use strict";a.r(e);var n=a("5434"),i=a("311e");for(var u in i)"default"!==u&&function(t){a.d(e,t,(function(){return i[t]}))}(u);a("47a3");var l,o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"7d2b320a",null,!1,n["a"],l);e["default"]=s.exports},5434:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return u})),a.d(e,"a",(function(){return n}));var n={uSlider:a("9c3b").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"cu-bar bg-white",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.downmp4.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-title text-blue"}),t._v("配音文字")],1)],1),a("v-uni-view",{staticClass:"cu-form-group align-start top"},[a("v-uni-view",{staticClass:"title"}),a("v-uni-textarea",{attrs:{maxlength:"300",placeholder:"规范使用标点符号,配音更准确,请注意英文场景无法合成中文"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.textareaBInput.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"action"},[t._v(t._s(t.textleng)+"/300")])],1),a("v-uni-view",{staticClass:"cu-form-group "},[a("v-uni-view",{staticClass:"title"},[t._v("选择发音人")]),a("v-uni-picker",{attrs:{value:t.voiceIndex,range:t.voiceV,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.voiceF.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.voiceV[t.voiceIndex].name))])],1)],1),a("v-uni-view",{staticClass:"cu-form-group "},[a("v-uni-view",{staticClass:"title"},[t._v("音量: "+t._s(t.volume))]),a("v-uni-view",{staticClass:"wrap",staticStyle:{width:"400rpx"}},[a("u-slider",{model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}})],1)],1),a("v-uni-view",{staticClass:"cu-form-group "},[a("v-uni-view",{staticClass:"title"},[t._v("语速: "+t._s(t.speech_rate))]),a("v-uni-view",{staticClass:"wrap",staticStyle:{width:"400rpx"}},[a("u-slider",{model:{value:t.speech_rate,callback:function(e){t.speech_rate=e},expression:"speech_rate"}})],1)],1),a("v-uni-view",{staticClass:"cu-form-group "},[a("v-uni-view",{staticClass:"title"},[t._v("语调: "+t._s(t.pitch_rate))]),a("v-uni-view",{staticClass:"wrap",staticStyle:{width:"400rpx"}},[a("u-slider",{model:{value:t.pitch_rate,callback:function(e){t.pitch_rate=e},expression:"pitch_rate"}})],1)],1),a("v-uni-view",{staticClass:"padding flex flex-direction bg-white top"},[a("v-uni-button",{staticClass:"cu-btn  bg-blue margin-tb-sm lg",attrs:{disabled:""==t.text},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tap.apply(void 0,arguments)}}},[t._v("开始合成")]),t.url?a("v-uni-button",{staticClass:"cu-btn bg-green margin-tb-sm lg ",attrs:{loading:t.load},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.test.apply(void 0,arguments)}}},[t._v("试听")]):t._e(),t.url?a("v-uni-button",{staticClass:"cu-btn bg-green margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copy.apply(void 0,arguments)}}},[t._v("复制下载链接")]):t._e()],1)],1)},u=[]},"66ae":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.top[data-v-7d2b320a]{margin-top:%?2?%}uni-button[data-v-7d2b320a]{-webkit-border-radius:0;border-radius:0}',""]),t.exports=e},"8cf0":function(t,e,a){var n=a("c6c2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("3bd29f4d",n,!0,{sourceMap:!1,shadowMode:!1})},"9c3b":function(t,e,a){"use strict";a.r(e);var n=a("4314"),i=a("dd73");for(var u in i)"default"!==u&&function(t){a.d(e,t,(function(){return i[t]}))}(u);a("4cfe");var l,o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"065320f4",null,!1,n["a"],l);e["default"]=s.exports},c6c2:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-slider[data-v-065320f4]{position:relative;-webkit-border-radius:999px;border-radius:999px;border-radius:999px;background-color:#ebedf0}.u-slider[data-v-065320f4]:before{position:absolute;right:0;left:0;content:"";top:-8px;bottom:-8px;z-index:-1}.u-slider__gap[data-v-065320f4]{position:relative;-webkit-border-radius:inherit;border-radius:inherit;-webkit-transition:width .2s;transition:width .2s;transition:width .2s;background-color:#1989fa}.u-slider__button[data-v-065320f4]{width:24px;height:24px;-webkit-border-radius:50%;border-radius:50%;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.5);box-shadow:0 1px 2px rgba(0,0,0,.5);background-color:#fff;cursor:pointer}.u-slider__button-wrap[data-v-065320f4]{position:absolute;top:50%;right:0;-webkit-transform:translate3d(50%,-50%,0);transform:translate3d(50%,-50%,0)}.u-slider--disabled[data-v-065320f4]{opacity:.5}',""]),t.exports=e},caf9:function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"u-slider",props:{value:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},blockWidth:{type:[Number,String],default:30},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},height:{type:[Number,String],default:6},activeColor:{type:String,default:"#2979ff"},inactiveColor:{type:String,default:"#c0c4cc"},blockColor:{type:String,default:"#ffffff"},blockStyle:{type:Object,default:function(){return{}}}},data:function(){return{startX:0,status:"end",newValue:0,distanceX:0,startValue:0,barStyle:{},sliderRect:{left:0,width:0}}},watch:{value:function(t){"end"==this.status&&this.updateValue(this.value,!1)}},created:function(){this.updateValue(this.value,!1)},mounted:function(){var t=this;this.$uGetRect(".u-slider").then((function(e){t.sliderRect=e}))},methods:{onTouchStart:function(t){if(!this.disabled){this.startX=0;var e=t.touches[0];this.startX=e.clientX,this.startValue=this.format(this.value),this.status="start"}},onTouchMove:function(t){if(!this.disabled){"start"==this.status&&this.$emit("start");var e=t.touches[0];this.distanceX=e.clientX-this.sliderRect.left,this.newValue=this.distanceX/this.sliderRect.width*100,this.status="moving",this.$emit("moving"),this.updateValue(this.newValue,!0)}},onTouchEnd:function(){this.disabled||("moving"===this.status&&(this.updateValue(this.newValue,!1),this.$emit("end")),this.status="end")},updateValue:function(t,e){var a=this.format(t);if(!(a>this.max||a>100)){var n={width:a+"%"};1==e?n.transition="none":delete n.transition,this.$emit("input",a),this.barStyle=n}},format:function(t){return Math.round(Math.max(this.min,Math.min(t,this.max))/this.step)*this.step},onClick:function(t){if(!this.disabled){var e=(t.detail.x-this.sliderRect.left)/this.sliderRect.width*100;this.updateValue(e,!1)}}}};e.default=n},dd73:function(t,e,a){"use strict";a.r(e);var n=a("caf9"),i=a.n(n);for(var u in n)"default"!==u&&function(t){a.d(e,t,(function(){return n[t]}))}(u);e["default"]=i.a}}]);